<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CYBER NIGHTMARES — Clue Hub</title>
  <meta name="description" content="Launch hub for Cyber Nightmares CTF clues. Four circular neon buttons with image covers, same cyber-horror theme." />
  <style>
    :root{
      --bg:#06060a; --bg2:#0b0b14; --ink:#d0d3da; --muted:#9aa1ad;
      --purple:#bb00ff; --green:#00ff9f; --cyan:#00f0ff; --panel:#0f0f18;
      --glow-p:0 0 14px var(--purple), 0 0 48px rgba(187,0,255,.35);
      --glow-g:0 0 14px var(--green), 0 0 48px rgba(0,255,159,.35);
      --glow-c:0 0 12px var(--cyan), 0 0 38px rgba(0,240,255,.3);
      --maxw:1200px;
    }

    html,body{height:100%;}
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--ink);
      background:
        radial-gradient(1200px 700px at 15% 50%, rgba(187,0,255,.10), transparent 60%),
        radial-gradient(1200px 700px at 85% 50%, rgba(0,255,159,.10), transparent 60%),
        linear-gradient(180deg, var(--bg2) 0%, var(--bg) 60% 100%);
      font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      line-height:1.5; overflow-x:hidden;
    }

    #bgvid { position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      object-fit: cover; z-index: -2; opacity: 1; filter: none; }

    .scanlines::before{content:""; position:fixed; inset:0; pointer-events:none; z-index:100; background: repeating-linear-gradient(to bottom, rgba(255,255,255,0.03), rgba(255,255,255,0.03) 2px, rgba(0,0,0,0.03) 2px, rgba(0,0,0,0.03) 4px); mix-blend-mode:overlay; opacity:.12}
    .noise::after{content:""; position:fixed; inset:0; pointer-events:none; z-index:90; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.05"/></svg>'); background-size:300px 300px; mix-blend-mode:soft-light; opacity:.6; animation:drift 20s linear infinite}
    @keyframes drift{0%{transform:translate(0,0)}50%{transform:translate(10px,-10px)}100%{transform:translate(0,0)}}

    .fx{position:fixed; inset:0; pointer-events:none; z-index:0}
    .pillar{position:absolute; width:8px; height:56vh; top:18vh; filter:blur(.2px)}
    .pillar.left{left:4vw; background:linear-gradient(180deg, transparent, var(--green), transparent); box-shadow:0 0 18px var(--green), 0 0 42px rgba(0,255,159,.45)}
    .pillar.right{right:4vw; background:linear-gradient(180deg, transparent, var(--purple), transparent); box-shadow:0 0 18px var(--purple), 0 0 42px rgba(187,0,255,.45)}
    .fog{position:absolute; width:60vw; height:40vh; bottom:6vh; left:20vw; filter:blur(34px) saturate(120%);
      background: radial-gradient(40% 60% at 30% 50%, rgba(187,0,255,.22), transparent 60%),
                  radial-gradient(40% 60% at 70% 60%, rgba(0,255,159,.22), transparent 60%);
      animation:fogroll 40s ease-in-out infinite alternate;
    }
    @keyframes fogroll{from{transform:translateX(-2vw)}to{transform:translateX(2vw)}}

    header{position:sticky; top:0; z-index:60; background:linear-gradient(180deg, rgba(6,6,10,.85), rgba(6,6,10,.6) 80%, transparent); backdrop-filter: blur(6px); border-bottom:1px solid rgba(187,0,255,.18)}
    .brand{display:flex; align-items:center; gap:12px; font-weight:800; letter-spacing:.06em}
    .brand .dot{width:10px;height:10px;border-radius:999px;background:var(--purple); box-shadow:var(--glow-p)}
    nav{display:flex; gap:18px; align-items:center}
    .navwrap{display:flex; justify-content:space-between; align-items:center}
    a{color:var(--cyan); text-decoration:none}
    a:hover{filter:brightness(1.15); text-shadow:var(--glow-c)}

    .hero{position:relative; min-height:50svh; display:grid; place-items:center; text-align:center; z-index:1}
    .glitch{position:relative; display:inline-block; font-size:clamp(36px, 9vw, 96px); font-weight:900; letter-spacing:.08em; text-transform:uppercase; color:#fff; text-shadow: var(--glow-p), 0 0 2px #fff; animation:glitchshift 4s steps(30) infinite}
    .glitch::before, .glitch::after{content:attr(data-text); position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen}
    .glitch::before{color:var(--purple); transform:translate(-2px,0); clip-path:polygon(0 0,100% 0,100% 45%,0 45%); filter:drop-shadow(0 0 8px var(--purple))}
    .glitch::after{color:var(--green); transform:translate(2px,0); clip-path:polygon(0 55%,100% 55%,100% 100%,0 100%); filter:drop-shadow(0 0 8px var(--green))}
    @keyframes glitchshift{0%,100%{transform:translate(0,0)}20%{transform:translate(1px,-.5px)}40%{transform:translate(-1px,.5px)}60%{transform:translate(1px,.5px)}80%{transform:translate(-1px,-.5px)}}

    .subtitle{margin-top:8px; font-family: "Courier New", ui-monospace; color:var(--muted); text-transform:uppercase; letter-spacing:.25em}

    .hub{position:relative; z-index:1}
    .card{background:linear-gradient(180deg, rgba(12,12,20,.8), rgba(12,12,20,.6)); border:1px solid rgba(255,255,255,.06); border-radius:18px; padding:22px; box-shadow:0 8px 30px rgba(0,0,0,.35)}
    .h2{font-size:clamp(20px, 4vw, 36px); font-weight:800; letter-spacing:.04em; text-transform:uppercase; text-shadow:var(--glow-p)}

    /* CTA button under subtitle */
    .intro-wrap{display:grid; place-items:center; margin: 10px 0 22px;}
    .btn{--edge:rgba(255,255,255,.14); padding:.8rem 1.05rem; border-radius:12px; font-weight:800; letter-spacing:.08em; text-transform:uppercase; border:1px solid var(--edge); color:#fff; cursor:pointer; background:linear-gradient(180deg, rgba(0,240,255,.14), rgba(0,240,255,.05)); box-shadow:var(--glow-c)}
    .btn:hover{filter:brightness(1.08)}
    .btn.small{padding:.55rem .85rem; letter-spacing:.06em}

    .grid{display:grid; gap:28px; grid-template-columns:repeat(2, minmax(160px,1fr)); justify-items:center}
    @media (min-width: 900px){ .grid{grid-template-columns:repeat(4, 1fr);} }

    .orb{
      --size: 180px;
      width: var(--size); height: var(--size);
      border-radius: 50%; position: relative; overflow: hidden; display: grid; place-items: end; text-align:center;
      border: 2px solid rgba(255,255,255,.12);
      box-shadow: 0 0 0 3px rgba(255,255,255,.04), var(--glow-g);
      background: #0a0a12;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, filter .18s ease;
      user-select: none;
    }
    .orb:hover{ transform: translateY(-2px); box-shadow: 0 0 0 3px rgba(255,255,255,.06), var(--glow-p); border-color: rgba(187,0,255,.5) }
    .orb[aria-disabled="true"]{opacity:.6; pointer-events:none; filter:grayscale(.3)}
    .orb > img {position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center;}
    .label{position:relative; z-index:1; margin:0 0 10px; display:inline-block; padding:.35rem .7rem; border-radius:999px; border:1px solid rgba(255,255,255,.14); background:linear-gradient(180deg, rgba(0,240,255,.10), rgba(0,240,255,.04)); color:#fff; text-transform:uppercase; letter-spacing:.18em; font-family:"Courier New",ui-monospace; font-size:.78rem; text-shadow:var(--glow-c)}

    footer{border-top:1px solid rgba(255,255,255,.06); background:linear-gradient(180deg, rgba(6,6,10,.65), rgba(6,6,10,1));}
    .credit{font-family:"Courier New",ui-monospace; color:var(--muted)}

    /* ==== Trailer Modal ==== */
    .modal-backdrop{
      position: fixed; inset: 0; z-index: 2000;
      display:none;
      background: rgba(0,0,0,.65);
      backdrop-filter: blur(6px) saturate(120%);
    }
    .modal{ position:absolute; inset:0; display:grid; place-items:center; padding:24px; }
    .modal-inner{
      width:min(960px, 92vw);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      overflow:hidden;
      background:linear-gradient(180deg, rgba(12,12,20,.95), rgba(12,12,20,.85));
      box-shadow: 0 0 24px rgba(0,0,0,.5), var(--glow-p);
    }
    .modal-header{
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      padding:10px 14px; border-bottom:1px solid rgba(255,255,255,.08);
      font-family:"Courier New",ui-monospace; letter-spacing:.18em; color:#fff; text-transform:uppercase;
    }
    .modal-actions{display:flex; gap:10px}
    .modal-body video{
      width:100%; height:auto; display:block; background:#000; aspect-ratio:16/9; object-fit:contain;
    }
  </style>
</head>
<body class="scanlines noise">

  <!-- Background Video -->
  <video autoplay muted loop playsinline id="bgvid">
    <source src="background.mp4" type="video/mp4" />
  </video>

  <!-- Ambient FX -->
  <div class="fx">
    <div class="pillar left" aria-hidden="true"></div>
    <div class="pillar right" aria-hidden="true"></div>
    <div class="fog" aria-hidden="true"></div>
  </div>

  <header>
    <div class="container navwrap">
      <div class="brand"><span class="dot"></span><span>CYBER NIGHTMARES</span></div>
      <nav>
        <a href="terminal.html">Cypher Terminal</a>
        <a href="#rules">Rules</a>
      </nav>
    </div>
  </header>

  <main class="hero container" id="top">
    <div>
      <div class="glitch" data-text="CLUE HUB" aria-label="Clue Hub">CLUE HUB</div>
      <div class="subtitle">Are You Going To Let Them Take Control</div>

      <!-- NEW: Intro CTA just under the subtitle -->
      <div class="intro-wrap">
        <button class="btn" id="intro-btn" data-video="intro3.mp4" type="button">
          ▶ Play Intro Cinematic
        </button>
      </div>
    </div>
  </main>

  <section class="hub container">
    <div class="card">
      <h2 class="h2">Choose your starting point</h2>
      <div class="grid" role="list">
        <a class="orb" role="listitem" href="meditations.html" data-video="vidq.mp4" aria-label="Open Clue 1">
          <img src="marcus.jpeg" alt="Clue 1 image" loading="lazy" />
          <span class="label">ONE......</span>
        </a>
        <a class="orb" role="listitem" href="dm9sdGFpcmU%3D.png" data-video="vid2.mp4" aria-label="Open Clue 2">
          <img src="dm9sdGFnZQ==.jpeg" alt="Clue 2 image" loading="lazy" />
          <span class="label">TWO......</span>
        </a>
        <a class="orb" role="listitem" href="theboard.html" data-video="vid3.mp4" aria-label="Open Clue 3">
          <img src="dml0cnV2aWFuX01hbg==.jpg" alt="Clue 3 image" loading="lazy" />
          <span class="label">THREE......</span>
        </a>
        <a class="orb" role="listitem" href="jefferson.html" data-video="vid4.mp4" aria-label="Open Clue 4">
          <img src="jeff.jpeg" alt="Clue 4 image" loading="lazy" />
          <span class="label">FOUR........</span>
        </a>
      </div>
    </div>
  </section>

  <section id="rules" class="container">
    <div class="card">
      <h2 class="h2">Rules</h2>
      <ol>
        <li>Only interact with targets provided by the CTF. dont knock on next door, the flag isnt hidden there.</li>
        <li>No code has been left unattended<code> Flag format = Flag{...}</code>.</li>
        <li>Be excellent to each other. leave this world better than you found it.</li>
        <li>Hints can be found on the Hints page</li>
        <li>Be sure to check out the whole site, have a look around</li>
        <li>All players who complete all the stages will be entered into a prize draw which will tak place on 31.10.25</li>
        <li>Once you have all five flags, send them to Notorious_squirrel@protonmail.com Email heading - CTF Flags</li>
      </ol>
    </div>
  </section>

  <footer class="container">
    <div class="grid" style="place-items:center; text-align:center; padding:28px 0 60px">
      <div class="credit">© <span id="year"></span> CYBER NIGHTMARES — Notorious Squirrel × GhostStrats</div>
    </div>
  </footer>

  <!-- Trailer Modal (hidden by default) -->
  <div class="modal-backdrop" id="trailer-backdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="trailer-title">
      <div class="modal-inner">
        <div class="modal-header">
          <div id="trailer-title">Initiating Sequence</div>
          <div class="modal-actions">
            <button class="btn small" id="skip-btn" type="button">Skip ▶</button>
            <button class="btn small" id="close-btn" type="button">Close ✕</button>
          </div>
        </div>
        <div class="modal-body">
          <video id="trailer" playsinline controls></video>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const bg = document.getElementById('bgvid');
    const backdrop = document.getElementById('trailer-backdrop');
    const trailer = document.getElementById('trailer');
    const skipBtn = document.getElementById('skip-btn');
    const closeBtn = document.getElementById('close-btn');
    const introBtn = document.getElementById('intro-btn');

    let pendingHref = null;

    function openModalWith(src, href){
      pendingHref = href || null;
      trailer.src = src;
      trailer.currentTime = 0;
      backdrop.style.display = 'block';
      backdrop.setAttribute('aria-hidden','false');
      try { bg?.pause?.(); } catch {}
      trailer.play().catch(()=>{ /* user can press play if blocked */ });
    }

    // Orbs: play per-clue video then redirect
    document.querySelectorAll('.orb[data-video]').forEach(orb => {
      orb.addEventListener('click', (e) => {
        const src = orb.getAttribute('data-video');
        const href = orb.getAttribute('href');
        if (!src || !href) return;
        e.preventDefault();
        openModalWith(src, href);
      });
    });

    // Intro CTA: play intro only (no redirect)
    introBtn.addEventListener('click', () => {
      const src = introBtn.getAttribute('data-video') || 'videos/intro.mp4';
      openModalWith(src, null);
    });

    // End behavior
    trailer.addEventListener('ended', () => {
      if (pendingHref) window.location.href = pendingHref;
      else closeModal(); // intro clip: just close
    });

    // Controls
    function closeModal(){
      trailer.pause();
      trailer.removeAttribute('src');
      trailer.load();
      backdrop.style.display = 'none';
      backdrop.setAttribute('aria-hidden','true');
      try { bg?.play?.(); } catch {}
      pendingHref = null;
    }
    skipBtn.addEventListener('click', () => {
      if (pendingHref) window.location.href = pendingHref; else closeModal();
    });
    closeBtn.addEventListener('click', closeModal);
    backdrop.addEventListener('click', (e) => { if (e.target === backdrop) closeModal(); });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && backdrop.style.display === 'block') closeModal(); });
  </script>
</body>
</html>
